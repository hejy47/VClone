{"Source Block": ["serv/rtl/serv_state.v@94:138@HdlStmProcess", "   assign o_rf_rd_en = i_rd_op & o_cnt_en & !o_init;\n\n   //Shift operations require bufreg to hold for one cycle between INIT and RUN before shifting\n   assign o_bufreg_hold = !o_cnt_en & (stage_two_req | ~i_shift_op);\n\n   always @(posedge i_clk) begin\n      if (o_cnt_done)\n\to_ctrl_jump <= o_init & take_branch;\n\n      if (o_cnt_en)\n\tstage_two_pending <= o_init;\n\n      o_cnt_done <= (o_cnt[4:2] == 3'b111) & o_cnt_r[2];\n\n      //Need a strobe for the first cycle in the IDLE state after INIT\n      stage_two_req <= o_cnt_done & o_init;\n\n      if (i_rf_ready & !stage_two_pending)\n\to_init <= two_stage_op & !o_pending_irq;\n\n      if (o_cnt_done)\n\to_init <= 1'b0;\n\n      if (i_rf_ready)\n\to_cnt_en <= 1'b1;\n\n      if (o_cnt_done)\n        o_cnt_en <= 1'b0;\n\n      o_cnt <= o_cnt + {2'd0,o_cnt_r[3]};\n      if (o_cnt_en)\n\to_cnt_r <= {o_cnt_r[2:0],o_cnt_r[3]};\n\n      if (i_rst) begin\n\t o_cnt   <= 3'd0;\n\t stage_two_pending <= 1'b0;\n\t o_ctrl_jump <= 1'b0;\n\t o_cnt_r <= 4'b0001;\n      end\n   end\n\n   generate\n      if (WITH_CSR) begin\n   reg \tirq_sync;\n   reg \tmisalign_trap_sync;\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[128, "\t o_cnt   <= 3'd0;\n"], [129, "\t stage_two_pending <= 1'b0;\n"], [130, "\t o_ctrl_jump <= 1'b0;\n"], [131, "\t o_cnt_r <= 4'b0001;\n"]], "Add": [[131, "\t if (RESET_STRATEGY != \"NONE\") begin\n"], [131, "\t    o_cnt   <= 3'd0;\n"], [131, "\t    stage_two_pending <= 1'b0;\n"], [131, "\t    o_ctrl_jump <= 1'b0;\n"], [131, "\t    o_cnt_r <= 4'b0001;\n"], [131, "\t end\n"]]}}