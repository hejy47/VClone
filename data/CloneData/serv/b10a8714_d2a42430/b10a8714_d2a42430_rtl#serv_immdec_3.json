{"Source Block": ["serv/rtl/serv_immdec.v@30:92@HdlStmIf", "\n   assign o_imm = i_cnt_done ? signbit : i_ctrl[0] ? imm11_7[0] : imm24_20[0];\n   assign o_csr_imm = imm19_12_20[4];\n\n   generate\n      if (SHARED_RFADDR_IMM_REGS) begin\n\t assign o_rs1_addr = imm19_12_20[8:4];\n\t assign o_rs2_addr = imm24_20;\n\t assign o_rd_addr  = imm11_7;\n\n\t always @(posedge i_clk) begin\n\t    if (i_wb_en) begin\n\t       /* CSR immediates are always zero-extended, hence clear the signbit */\n\t       signbit     <= i_wb_rdt[31] & !i_csr_imm_en;\n\t    end\n\t    if (i_wb_en | (i_cnt_en & i_immdec_en[1]))\n\t      imm19_12_20 <= i_wb_en ? {i_wb_rdt[19:12],i_wb_rdt[20]} : {i_ctrl[3] ? signbit : imm24_20[0], imm19_12_20[8:1]};\n\t    if (i_wb_en | (i_cnt_en))\n\t      imm7        <= i_wb_en ? i_wb_rdt[7]                    : signbit;\n\n\t    if (i_wb_en | (i_cnt_en & i_immdec_en[3]))\n\t      imm30_25    <= i_wb_en ? i_wb_rdt[30:25] : {i_ctrl[2] ? imm7 : i_ctrl[1] ? signbit : imm19_12_20[0], imm30_25[5:1]};\n\n\t    if (i_wb_en | (i_cnt_en & i_immdec_en[2]))\n\t      imm24_20    <= i_wb_en ? i_wb_rdt[24:20] : {imm30_25[0], imm24_20[4:1]};\n\n\t    if (i_wb_en | (i_cnt_en & i_immdec_en[0]))\n\t      imm11_7     <= i_wb_en ? i_wb_rdt[11:7] : {imm30_25[0], imm11_7[4:1]};\n\t end\n      end else begin\n\t reg [4:0]  rd_addr;\n\t reg [4:0]  rs1_addr;\n\t reg [4:0]  rs2_addr;\n\n\t assign o_rd_addr  = rd_addr;\n\t assign o_rs1_addr = rs1_addr;\n\t assign o_rs2_addr = rs2_addr;\n\t always @(posedge i_clk) begin\n\t    if (i_wb_en) begin\n\t       /* CSR immediates are always zero-extended, hence clear the signbit */\n\t       signbit     <= i_wb_rdt[31] & !i_csr_imm_en;\n\t       imm19_12_20 <= {i_wb_rdt[19:12],i_wb_rdt[20]};\n\t       imm7        <= i_wb_rdt[7];\n\t       imm30_25    <= i_wb_rdt[30:25];\n\t       imm24_20    <= i_wb_rdt[24:20];\n\t       imm11_7     <= i_wb_rdt[11:7];\n\n               rd_addr  <= i_wb_rdt[11:7];\n               rs1_addr <= i_wb_rdt[19:15];\n               rs2_addr <= i_wb_rdt[24:20];\n\t    end\n\t    if (i_cnt_en) begin\n\t       imm19_12_20 <= {i_ctrl[3] ? signbit : imm24_20[0], imm19_12_20[8:1]};\n\t       imm7        <= signbit;\n\t       imm30_25    <= {i_ctrl[2] ? imm7 : i_ctrl[1] ? signbit : imm19_12_20[0], imm30_25[5:1]};\n\t       imm24_20    <= {imm30_25[0], imm24_20[4:1]};\n\t       imm11_7     <= {imm30_25[0], imm11_7[4:1]};\n\t    end\n\t end\n      end\n   endgenerate\n\t \nendmodule\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[43, "\t       signbit     <= i_wb_rdt[31] & !i_csr_imm_en;\n"], [70, "\t       signbit     <= i_wb_rdt[31] & !i_csr_imm_en;\n"]], "Add": [[43, "\t       imm31     <= i_wb_rdt[31];\n"], [70, "\t       imm31       <= i_wb_rdt[31];\n"]]}}