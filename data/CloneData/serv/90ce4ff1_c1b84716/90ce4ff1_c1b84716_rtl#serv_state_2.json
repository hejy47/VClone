{"Source Block": ["serv/rtl/serv_state.v@136:169@HdlStmIf", "\t end\n      end\n   end\n\n   generate\n      if (WITH_CSR) begin\n   reg \tirq_sync;\n   reg \tmisalign_trap_sync;\n\n   assign o_ctrl_trap = i_e_op | o_pending_irq | misalign_trap_sync;\n   assign o_trap_taken = i_ibus_ack & o_ctrl_trap;\n\n   always @(posedge i_clk) begin\n      if (i_ibus_ack)\n\tirq_sync <= 1'b0;\n      if (i_new_irq)\n\tirq_sync <= 1'b1;\n\n      if (i_ibus_ack)\n\to_pending_irq <= irq_sync;\n\n      if (stage_two_req)\n\tmisalign_trap_sync <= trap_pending;\n      if (i_ibus_ack)\n\tmisalign_trap_sync <= 1'b0;\n   end // always @ (posedge i_clk)\n      end else begin\n\t assign o_trap_taken = 0;\n\t assign o_ctrl_trap = 0;\n\t always @(*)\n\t   o_pending_irq = 1'b0;\n      end\n   endgenerate\nendmodule\n"], "Clone Blocks": [], "Diff Content": {"Delete": [], "Add": [[160, "      if (i_rst)\n"], [160, "\tif (RESET_STRATEGY != \"NONE\") begin\n"], [160, "\t   misalign_trap_sync <= 1'b0;\n"], [160, "\t   irq_sync           <= 1'b0;\n"], [160, "\t   o_pending_irq      <= 1'b0;\n"], [160, "\tend\n"]]}}