{"Source Block": ["verilog-ethernet/rtl/axis_frame_len.v@67:106@HdlStmProcess", "assign frame_len = frame_len_reg;\nassign frame_len_valid = frame_len_valid_reg;\n\ninteger offset, i, bit_cnt;\n\nalways @* begin\n    frame_len_next = frame_len_reg;\n    frame_len_valid_next = 1'b0;\n    frame_next = frame_reg;\n\n    if (monitor_axis_tready && monitor_axis_tvalid) begin\n        // valid transfer cycle\n\n        if (monitor_axis_tlast) begin\n            // end of frame\n            frame_len_valid_next = 1'b1;\n            frame_next = 1'b0;\n        end else if (!frame_reg) begin\n            // first word after end of frame\n            frame_len_next = 0;\n            frame_next = 1'b1;\n        end\n\n        // increment frame length by number of words transferred\n        if (KEEP_ENABLE) begin\n            bit_cnt = 0;\n            for (i = 0; i <= KEEP_WIDTH; i = i + 1) begin\n                if (monitor_axis_tkeep == ({KEEP_WIDTH{1'b1}}) >> (KEEP_WIDTH-i)) bit_cnt = i;\n            end\n            frame_len_next = frame_len_next + bit_cnt;\n        end else begin\n            frame_len_next = frame_len_next + 1;\n        end\n    end\nend\n\nalways @(posedge clk) begin\n    if (rst) begin\n        frame_len_reg <= 0;\n        frame_len_valid_reg <= 0;\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[75, "    frame_next = frame_reg;\n"], [83, "            frame_next = 1'b0;\n"], [84, "        end else if (!frame_reg) begin\n"], [86, "            frame_len_next = 0;\n"], [87, "            frame_next = 1'b1;\n"]], "Add": [[75, "    if (frame_len_valid_reg) begin\n"], [75, "        frame_len_next = 0;\n"], [75, "    end\n"]]}}