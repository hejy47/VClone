{"Source Block": ["hdl/library/data_offload/data_offload_fsm.v@140:210@HdlStmProcess", "\n  (* DONT_TOUCH = \"TRUE\" *) reg [1:0] wr_fsm_state = 2'b00;\n  (* DONT_TOUCH = \"TRUE\" *) reg [1:0] rd_fsm_state = 2'b00;\n\n  // Mealy state machine for write control\n  always @(posedge wr_clk) begin\n    if (wr_resetn_in == 1'b0) begin\n      wr_fsm_state <= WR_IDLE;\n    end else begin\n      case (wr_fsm_state)\n\n          WR_IDLE: begin\n            if (wr_init_req_s) begin\n              wr_fsm_state <= (TX_OR_RXN_PATH) ? WR_WRITE_TO_MEM : WR_SYNC;\n            end else begin\n              wr_fsm_state <= WR_IDLE;\n            end\n          end\n\n          WR_SYNC: begin\n            // do not lock the FSM if something goes wrong\n            if (TX_OR_RXN_PATH) begin\n              wr_fsm_state <= WR_WRITE_TO_MEM;\n            end else begin // SOURCE_IS_BACK_END\n              case (sync_config)\n                AUTOMATIC: begin\n                  wr_fsm_state <= WR_WRITE_TO_MEM;\n                end\n                HARDWARE: begin\n                  if (wr_sync_external_s) begin\n                    wr_fsm_state <= WR_WRITE_TO_MEM;\n                  end\n                end\n                SOFTWARE: begin\n                  if (wr_sync_internal_s) begin\n                    wr_fsm_state <= WR_WRITE_TO_MEM;\n                  end\n                end\n                default: begin\n                  wr_fsm_state <= WR_WRITE_TO_MEM;\n                end\n              endcase\n            end\n          end\n\n          WR_WRITE_TO_MEM: begin\n            if ((wr_almost_full || wr_last) && wr_valid_out) begin\n              wr_fsm_state <= WR_WAIT_TO_END;\n            end else begin\n              wr_fsm_state <= WR_WRITE_TO_MEM;\n            end\n          end\n\n          WR_WAIT_TO_END: begin\n            if (wr_isempty_s && (wr_oneshot || wr_init_req_s)) begin\n              wr_fsm_state <= WR_IDLE;\n            end else begin\n              wr_fsm_state <= WR_WAIT_TO_END;\n            end\n          end\n\n          default: wr_fsm_state <= WR_IDLE;\n      endcase\n\n    end\n  end\n\n  // the initialization interface (init_req) is edge sensitive\n  always @(posedge wr_clk) begin\n    wr_init_req_d <= wr_init_req_s;\n  end\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[186, "            if ((wr_almost_full || wr_last) && wr_valid_out) begin\n"]], "Add": [[186, "            if ((wr_full || wr_last) && wr_valid_out) begin\n"]]}}