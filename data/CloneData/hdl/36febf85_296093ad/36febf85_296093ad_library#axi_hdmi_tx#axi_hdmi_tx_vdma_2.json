{"Source Block": ["hdl/library/axi_hdmi_tx/axi_hdmi_tx_vdma.v@193:230@HdlStmProcess", "\n  assign vdma_addr_diff_s = {1'b1, vdma_waddr} - vdma_raddr;\n  assign vdma_ovf_s = (vdma_addr_diff < BUF_THRESHOLD_LO) ? vdma_almost_full : 1'b0;\n  assign vdma_unf_s = (vdma_addr_diff > BUF_THRESHOLD_HI) ? vdma_almost_empty : 1'b0;\n\n  always @(posedge vdma_clk) begin\n    if (vdma_rst == 1'b1) begin\n      vdma_raddr_g_m1 <= 9'd0;\n      vdma_raddr_g_m2 <= 9'd0;\n    end else begin\n      vdma_raddr_g_m1 <= hdmi_raddr_g;\n      vdma_raddr_g_m2 <= vdma_raddr_g_m1;\n    end\n    vdma_raddr <= g2b(vdma_raddr_g_m2);\n    vdma_addr_diff <= vdma_addr_diff_s[8:0];\n    if (vdma_addr_diff >= RDY_THRESHOLD_HI) begin\n      vdma_ready <= 1'b0;\n    end else if (vdma_addr_diff <= RDY_THRESHOLD_LO) begin\n      vdma_ready <= 1'b1;\n    end\n    if (vdma_addr_diff > BUF_THRESHOLD_HI) begin\n      vdma_almost_full <= 1'b1;\n    end else begin\n      vdma_almost_full <= 1'b0;\n    end\n    if (vdma_addr_diff < BUF_THRESHOLD_LO) begin\n      vdma_almost_empty <= 1'b1;\n    end else begin\n      vdma_almost_empty <= 1'b0;\n    end\n    vdma_ovf <= vdma_ovf_s;\n    vdma_unf <= vdma_unf_s;\n  end\n\nendmodule\n\n// ***************************************************************************\n// ***************************************************************************\n"], "Clone Blocks": [["hdl/library/common/ad_axis_dma_tx.v@213:251", "\n  assign dma_addr_diff_s = {1'b1, dma_waddr} - dma_raddr;\n  assign dma_ovf_s = (dma_addr_diff < BUF_THRESHOLD_LO) ? dma_almost_full : 1'b0;\n  assign dma_unf_s = (dma_addr_diff > BUF_THRESHOLD_HI) ? dma_almost_empty : 1'b0;\n\n  always @(posedge dma_clk) begin\n    if (dma_rst == 1'b1) begin\n      dma_raddr_g_m1 <= 'd0;\n      dma_raddr_g_m2 <= 'd0;\n    end else begin\n      dma_raddr_g_m1 <= dac_raddr_g;\n      dma_raddr_g_m2 <= dma_raddr_g_m1;\n    end\n    dma_raddr <= g2b(dma_raddr_g_m2);\n    dma_addr_diff <= dma_addr_diff_s[5:0];\n    if (dma_addr_diff >= RDY_THRESHOLD_HI) begin\n      dma_ready <= 1'b0;\n    end else if (dma_addr_diff <= RDY_THRESHOLD_LO) begin\n      dma_ready <= 1'b1;\n    end\n    if (dma_addr_diff > BUF_THRESHOLD_HI) begin\n      dma_almost_full <= 1'b1;\n    end else begin\n      dma_almost_full <= 1'b0;\n    end\n    if (dma_addr_diff < BUF_THRESHOLD_LO) begin\n      dma_almost_empty <= 1'b1;\n    end else begin\n      dma_almost_empty <= 1'b0;\n    end\n    dma_ovf <= dma_ovf_s;\n    dma_unf <= dma_unf_s;\n    dma_resync <= dma_ovf | dma_unf;\n  end\n\n  // vdma write\n\n  assign dma_wr_s = dma_valid & dma_ready;\n\n"]], "Diff Content": {"Delete": [[198, "  always @(posedge vdma_clk) begin\n"]], "Add": [[198, "  always @(posedge vdma_clk or posedge vdma_rst) begin\n"], [205, "  end\n"], [205, "  always @(posedge vdma_clk) begin\n"]]}}