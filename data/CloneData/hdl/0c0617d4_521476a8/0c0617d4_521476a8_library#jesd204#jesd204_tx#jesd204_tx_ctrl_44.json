{"Source Block": ["hdl/library/jesd204/jesd204_tx/jesd204_tx_ctrl.v@282:378@HdlStmIf", "assign ilas_default_data[(ii*8)+7:ii*8] = {ilas_counter, ii_sig};\nend\nendgenerate\n\ngenerate\nif(DATA_PATH_WIDTH == 4) begin : gen_dp4\n\nassign ilas_config_rd_start = mframe_counter == 'h00 && somf_early2[0];\n\nalways @(posedge clk) begin\n  if (ilas_data_reset == 1'b1) begin\n    ilas_data <= {NUM_LANES{32'h00}};\n    ilas_charisk <= {NUM_LANES{4'b0000}};\n  end else begin\n    if (ilas_config_rd_d1 == 1'b1) begin\n      case (ilas_config_addr)\n      2'h1: begin\n        ilas_data <= (ilas_config_data & {NUM_LANES{32'hffff0000}}) |\n          {NUM_LANES{16'h00,8'h9c,8'h1c}}; // /Q/ /R/\n        ilas_charisk <= {NUM_LANES{4'b0011}};\n      end\n      default: begin\n        ilas_data <= ilas_config_data;\n        ilas_charisk <= {NUM_LANES{4'b0000}};\n      end\n      endcase\n    end else if (lmfc_edge_d2 == 1'b1) begin\n      ilas_data <= {NUM_LANES{ilas_default_data[31:8],8'h1c}}; // /R/\n      ilas_charisk <= {NUM_LANES{4'b0001}};\n    end else if (lmfc_edge_d1 == 1'b1) begin\n      ilas_data <= {NUM_LANES{8'h7c,ilas_default_data[23:0]}}; // /A/\n      ilas_charisk <= {NUM_LANES{4'b1000}};\n    end else begin\n      ilas_data <= {NUM_LANES{ilas_default_data}};\n      ilas_charisk <= {NUM_LANES{4'b0000}};\n    end\n  end\nend\n\nend else if(DATA_PATH_WIDTH == 8) begin : gen_dp8\n\nreg [63:0] ilas_config_data_d[NUM_LANES-1:0];\nreg ilas_config_rd_d2 = 1'b0;\n\nalways @(posedge clk) begin\n  ilas_config_rd_d2 <= ilas_config_rd_d1;\nend\n\nfor(jj = 0; jj < NUM_LANES; jj = jj + 1) begin : gen_dp8_lane\n\nassign ilas_config_rd_start = (mframe_counter == 'h00) && (octets_per_mf_4_mod_8 ? somf_early2[4] : somf_early2[0]);\n\nalways @(posedge clk) begin\n  ilas_config_data_d[jj] <= {32'b0, ilas_config_data[(jj*64)+32+:32]};\nend\n\nfor(ii = 0; ii < DATA_PATH_WIDTH; ii=ii+1) begin : gen_ilas_data\n\nalways @(posedge clk) begin\n  if (ilas_data_reset) begin\n    ilas_data[(jj*64)+(ii*8)+:8] <= 8'h00;\n    ilas_charisk[(jj*8)+ii] <= 1'b0;\n  end else begin\n    if(somf[ii]) begin\n      ilas_data[(jj*64)+(ii*8)+:8] <= 8'h1c; // /R/\n      ilas_charisk[(jj*8)+ii] <= 1'b1;\n    end else if(eomf[ii]) begin\n      ilas_data[(jj*64)+(ii*8)+:8] <= 8'h7c; // /A/\n      ilas_charisk[(jj*8)+ii] <= 1'b1;\n    end else if (ilas_config_rd_d1 &&\n                 (ilas_config_addr == 2'h1) && \n                 ((octets_per_mf_4_mod_8 && (ii == 5)) ||\n                   (!octets_per_mf_4_mod_8 && (ii == 1)))) begin\n        ilas_data[(jj*64)+(ii*8)+:8] <= 8'h9c; // /Q/\n        ilas_charisk[(jj*8)+ii] <= 1'b1;\n    end else if (octets_per_mf_4_mod_8 && ilas_config_rd_d2 && (ii < 4)) begin\n      ilas_data[(jj*64)+(ii*8)+:8] <= ilas_config_data_d[jj][ii*8+:8];\n      ilas_charisk[(jj*8)+ii] <= 1'b0;\n    end else if (octets_per_mf_4_mod_8 && ilas_config_rd_d1 && (ii >= 4)) begin\n      ilas_data[(jj*64)+(ii*8)+:8] <= ilas_config_data[(jj*64)+((ii-4)*8)+:8];\n      ilas_charisk[(jj*8)+ii] <= 1'b0;\n    end else if (!octets_per_mf_4_mod_8 && ilas_config_rd_d1) begin\n      ilas_data[(jj*64)+(ii*8)+:8] <= ilas_config_data[(jj*64)+(ii*8)+:8];\n      ilas_charisk[(jj*8)+ii] <= 1'b0;\n    end else begin\n      ilas_data[(jj*64)+(ii*8)+:8] <= ilas_default_data[ii*8+:8];\n      ilas_charisk[(jj*8)+ii] <= 1'b0;\n    end\n  end\nend\n\nend\nend\nend\nendgenerate\n\nendmodule\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[287, "if(DATA_PATH_WIDTH == 4) begin : gen_dp4\n"], [289, "assign ilas_config_rd_start = mframe_counter == 'h00 && somf_early2[0];\n"], [291, "always @(posedge clk) begin\n"], [292, "  if (ilas_data_reset == 1'b1) begin\n"], [293, "    ilas_data <= {NUM_LANES{32'h00}};\n"], [294, "    ilas_charisk <= {NUM_LANES{4'b0000}};\n"], [295, "  end else begin\n"], [296, "    if (ilas_config_rd_d1 == 1'b1) begin\n"], [297, "      case (ilas_config_addr)\n"], [298, "      2'h1: begin\n"], [299, "        ilas_data <= (ilas_config_data & {NUM_LANES{32'hffff0000}}) |\n"], [300, "          {NUM_LANES{16'h00,8'h9c,8'h1c}}; // /Q/ /R/\n"], [301, "        ilas_charisk <= {NUM_LANES{4'b0011}};\n"], [302, "      end\n"], [303, "      default: begin\n"], [304, "        ilas_data <= ilas_config_data;\n"], [307, "      endcase\n"], [308, "    end else if (lmfc_edge_d2 == 1'b1) begin\n"], [309, "      ilas_data <= {NUM_LANES{ilas_default_data[31:8],8'h1c}}; // /R/\n"], [310, "      ilas_charisk <= {NUM_LANES{4'b0001}};\n"], [311, "    end else if (lmfc_edge_d1 == 1'b1) begin\n"], [312, "      ilas_data <= {NUM_LANES{8'h7c,ilas_default_data[23:0]}}; // /A/\n"], [313, "      ilas_charisk <= {NUM_LANES{4'b1000}};\n"], [314, "    end else begin\n"], [315, "      ilas_data <= {NUM_LANES{ilas_default_data}};\n"], [316, "      ilas_charisk <= {NUM_LANES{4'b0000}};\n"], [319, "end\n"], [321, "end else if(DATA_PATH_WIDTH == 8) begin : gen_dp8\n"], [323, "reg [63:0] ilas_config_data_d[NUM_LANES-1:0];\n"], [324, "reg ilas_config_rd_d2 = 1'b0;\n"], [326, "always @(posedge clk) begin\n"], [327, "  ilas_config_rd_d2 <= ilas_config_rd_d1;\n"], [328, "end\n"], [330, "for(jj = 0; jj < NUM_LANES; jj = jj + 1) begin : gen_dp8_lane\n"], [332, "assign ilas_config_rd_start = (mframe_counter == 'h00) && (octets_per_mf_4_mod_8 ? somf_early2[4] : somf_early2[0]);\n"], [334, "always @(posedge clk) begin\n"], [335, "  ilas_config_data_d[jj] <= {32'b0, ilas_config_data[(jj*64)+32+:32]};\n"], [336, "end\n"], [338, "for(ii = 0; ii < DATA_PATH_WIDTH; ii=ii+1) begin : gen_ilas_data\n"], [340, "always @(posedge clk) begin\n"], [341, "  if (ilas_data_reset) begin\n"], [342, "    ilas_data[(jj*64)+(ii*8)+:8] <= 8'h00;\n"], [343, "    ilas_charisk[(jj*8)+ii] <= 1'b0;\n"], [344, "  end else begin\n"], [345, "    if(somf[ii]) begin\n"], [346, "      ilas_data[(jj*64)+(ii*8)+:8] <= 8'h1c; // /R/\n"], [347, "      ilas_charisk[(jj*8)+ii] <= 1'b1;\n"], [348, "    end else if(eomf[ii]) begin\n"], [349, "      ilas_data[(jj*64)+(ii*8)+:8] <= 8'h7c; // /A/\n"], [350, "      ilas_charisk[(jj*8)+ii] <= 1'b1;\n"], [351, "    end else if (ilas_config_rd_d1 &&\n"], [352, "                 (ilas_config_addr == 2'h1) && \n"], [353, "                 ((octets_per_mf_4_mod_8 && (ii == 5)) ||\n"], [354, "                   (!octets_per_mf_4_mod_8 && (ii == 1)))) begin\n"], [355, "        ilas_data[(jj*64)+(ii*8)+:8] <= 8'h9c; // /Q/\n"], [356, "        ilas_charisk[(jj*8)+ii] <= 1'b1;\n"], [357, "    end else if (octets_per_mf_4_mod_8 && ilas_config_rd_d2 && (ii < 4)) begin\n"], [358, "      ilas_data[(jj*64)+(ii*8)+:8] <= ilas_config_data_d[jj][ii*8+:8];\n"], [359, "      ilas_charisk[(jj*8)+ii] <= 1'b0;\n"], [360, "    end else if (octets_per_mf_4_mod_8 && ilas_config_rd_d1 && (ii >= 4)) begin\n"], [361, "      ilas_data[(jj*64)+(ii*8)+:8] <= ilas_config_data[(jj*64)+((ii-4)*8)+:8];\n"], [362, "      ilas_charisk[(jj*8)+ii] <= 1'b0;\n"], [363, "    end else if (!octets_per_mf_4_mod_8 && ilas_config_rd_d1) begin\n"], [364, "      ilas_data[(jj*64)+(ii*8)+:8] <= ilas_config_data[(jj*64)+(ii*8)+:8];\n"], [367, "      ilas_data[(jj*64)+(ii*8)+:8] <= ilas_default_data[ii*8+:8];\n"], [368, "      ilas_charisk[(jj*8)+ii] <= 1'b0;\n"], [371, "end\n"], [373, "end\n"], [374, "end\n"], [375, "end\n"]], "Add": [[304, "  generate\n"], [304, "  for(ii = 0; ii < DATA_PATH_WIDTH; ii=ii+1) begin : gen_default_data\n"], [304, "  wire [(8-ILAS_COUNTER_WIDTH)-1:0] ii_sig = ii;\n"], [304, "  assign ilas_default_data[(ii*8)+7:ii*8] = {ilas_counter, ii_sig};\n"], [304, "  end\n"], [304, "  endgenerate\n"], [304, "  generate\n"], [304, "  if(DATA_PATH_WIDTH == 4) begin : gen_dp4\n"], [304, "  assign ilas_config_rd_start = mframe_counter == 'h00 && somf_early2[0];\n"], [304, "  always @(posedge clk) begin\n"], [304, "    if (ilas_data_reset == 1'b1) begin\n"], [304, "      ilas_data <= {NUM_LANES{32'h00}};\n"], [304, "      ilas_charisk <= {NUM_LANES{4'b0000}};\n"], [304, "    end else begin\n"], [304, "      if (ilas_config_rd_d1 == 1'b1) begin\n"], [304, "        case (ilas_config_addr)\n"], [304, "        2'h1: begin\n"], [304, "          ilas_data <= (ilas_config_data & {NUM_LANES{32'hffff0000}}) |\n"], [304, "            {NUM_LANES{16'h00,8'h9c,8'h1c}}; // /Q/ /R/\n"], [304, "          ilas_charisk <= {NUM_LANES{4'b0011}};\n"], [304, "        end\n"], [304, "        default: begin\n"], [304, "          ilas_data <= ilas_config_data;\n"], [304, "          ilas_charisk <= {NUM_LANES{4'b0000}};\n"], [304, "        end\n"], [304, "        endcase\n"], [304, "      end else if (lmfc_edge_d2 == 1'b1) begin\n"], [304, "        ilas_data <= {NUM_LANES{ilas_default_data[31:8],8'h1c}}; // /R/\n"], [304, "        ilas_charisk <= {NUM_LANES{4'b0001}};\n"], [304, "      end else if (lmfc_edge_d1 == 1'b1) begin\n"], [304, "        ilas_data <= {NUM_LANES{8'h7c,ilas_default_data[23:0]}}; // /A/\n"], [304, "        ilas_charisk <= {NUM_LANES{4'b1000}};\n"], [304, "      end else begin\n"], [304, "        ilas_data <= {NUM_LANES{ilas_default_data}};\n"], [364, "  end else if(DATA_PATH_WIDTH == 8) begin : gen_dp8\n"], [364, "  reg [63:0] ilas_config_data_d[NUM_LANES-1:0];\n"], [364, "  reg ilas_config_rd_d2 = 1'b0;\n"], [364, "  always @(posedge clk) begin\n"], [364, "    ilas_config_rd_d2 <= ilas_config_rd_d1;\n"], [364, "  end\n"], [364, "  for(jj = 0; jj < NUM_LANES; jj = jj + 1) begin : gen_dp8_lane\n"], [364, "  assign ilas_config_rd_start = (mframe_counter == 'h00) && (octets_per_mf_4_mod_8 ? somf_early2[4] : somf_early2[0]);\n"], [364, "  always @(posedge clk) begin\n"], [364, "    ilas_config_data_d[jj] <= {32'b0, ilas_config_data[(jj*64)+32+:32]};\n"], [364, "  end\n"], [364, "  for(ii = 0; ii < DATA_PATH_WIDTH; ii=ii+1) begin : gen_ilas_data\n"], [364, "  always @(posedge clk) begin\n"], [364, "    if (ilas_data_reset) begin\n"], [364, "      ilas_data[(jj*64)+(ii*8)+:8] <= 8'h00;\n"], [368, "      if(somf[ii]) begin\n"], [368, "        ilas_data[(jj*64)+(ii*8)+:8] <= 8'h1c; // /R/\n"], [368, "        ilas_charisk[(jj*8)+ii] <= 1'b1;\n"], [368, "      end else if(eomf[ii]) begin\n"], [368, "        ilas_data[(jj*64)+(ii*8)+:8] <= 8'h7c; // /A/\n"], [368, "        ilas_charisk[(jj*8)+ii] <= 1'b1;\n"], [368, "      end else if (ilas_config_rd_d1 &&\n"], [368, "                   (ilas_config_addr == 2'h1) &&\n"], [368, "                   ((octets_per_mf_4_mod_8 && (ii == 5)) ||\n"], [368, "                     (!octets_per_mf_4_mod_8 && (ii == 1)))) begin\n"], [368, "          ilas_data[(jj*64)+(ii*8)+:8] <= 8'h9c; // /Q/\n"], [368, "          ilas_charisk[(jj*8)+ii] <= 1'b1;\n"], [368, "      end else if (octets_per_mf_4_mod_8 && ilas_config_rd_d2 && (ii < 4)) begin\n"], [368, "        ilas_data[(jj*64)+(ii*8)+:8] <= ilas_config_data_d[jj][ii*8+:8];\n"], [368, "        ilas_charisk[(jj*8)+ii] <= 1'b0;\n"], [368, "      end else if (octets_per_mf_4_mod_8 && ilas_config_rd_d1 && (ii >= 4)) begin\n"], [368, "        ilas_data[(jj*64)+(ii*8)+:8] <= ilas_config_data[(jj*64)+((ii-4)*8)+:8];\n"], [368, "        ilas_charisk[(jj*8)+ii] <= 1'b0;\n"], [368, "      end else if (!octets_per_mf_4_mod_8 && ilas_config_rd_d1) begin\n"], [368, "        ilas_data[(jj*64)+(ii*8)+:8] <= ilas_config_data[(jj*64)+(ii*8)+:8];\n"], [368, "        ilas_charisk[(jj*8)+ii] <= 1'b0;\n"], [368, "      end else begin\n"], [368, "        ilas_data[(jj*64)+(ii*8)+:8] <= ilas_default_data[ii*8+:8];\n"], [368, "        ilas_charisk[(jj*8)+ii] <= 1'b0;\n"], [368, "      end\n"]]}}