{"Source Block": ["hdl/library/axi_dmac/axi_register_slice.v@67:106@HdlStmIf", "wire bwd_ready_s;\nwire [DATA_WIDTH-1:0] fwd_data_s;\nwire fwd_valid_s;\nwire fwd_ready_s;\n\ngenerate if (FORWARD_REGISTERED == 1) begin\n\nreg fwd_valid = 1'b0;\nreg [DATA_WIDTH-1:0] fwd_data = 'h00;\n\nassign fwd_ready_s = ~fwd_valid | m_axi_ready;\nassign fwd_valid_s = fwd_valid;\nassign fwd_data_s = fwd_data;\n\nalways @(posedge clk) begin\n  if (~fwd_valid | m_axi_ready)\n    fwd_data <= bwd_data_s;\nend\n\nalways @(posedge clk) begin\n  if (resetn == 1'b0) begin\n    fwd_valid <= 1'b0;\n  end else begin\n    if (bwd_valid_s)\n      fwd_valid <= 1'b1;\n    else if (m_axi_ready)\n      fwd_valid <= 1'b0;\n  end\nend\n\nend else begin\nassign fwd_data_s = bwd_data_s;\nassign fwd_valid_s = bwd_valid_s;\nassign fwd_ready_s = m_axi_ready;\nend\nendgenerate\n\ngenerate if (BACKWARD_REGISTERED == 1) begin\n\nreg bwd_ready = 1'b1;\n"], "Clone Blocks": [["hdl/library/axi_dmac/axi_register_slice.v@99:138", "assign fwd_valid_s = bwd_valid_s;\nassign fwd_ready_s = m_axi_ready;\nend\nendgenerate\n\ngenerate if (BACKWARD_REGISTERED == 1) begin\n\nreg bwd_ready = 1'b1;\nreg [DATA_WIDTH-1:0] bwd_data = 'h00;\n\nassign bwd_valid_s = ~bwd_ready | s_axi_valid;\nassign bwd_data_s = bwd_ready ? s_axi_data : bwd_data;\nassign bwd_ready_s = bwd_ready;\n\nalways @(posedge clk) begin\n  if (bwd_ready)\n    bwd_data <= s_axi_data;\nend\n\nalways @(posedge clk) begin\n  if (resetn == 1'b0) begin\n    bwd_ready <= 1'b1;\n  end else begin\n    if (fwd_ready_s)\n      bwd_ready <= 1'b1;\n    else if (s_axi_valid)\n      bwd_ready <= 1'b0;\n  end\nend\n\nend else begin\nassign bwd_valid_s = s_axi_valid;\nassign bwd_data_s = s_axi_data;\nassign bwd_ready_s = fwd_ready_s;\nend endgenerate\n\nassign m_axi_data = fwd_data_s;\nassign m_axi_valid = fwd_valid_s;\nassign s_axi_ready = bwd_ready_s;\n\n"]], "Diff Content": {"Delete": [[72, "generate if (FORWARD_REGISTERED == 1) begin\n"], [74, "reg fwd_valid = 1'b0;\n"], [75, "reg [DATA_WIDTH-1:0] fwd_data = 'h00;\n"], [77, "assign fwd_ready_s = ~fwd_valid | m_axi_ready;\n"], [78, "assign fwd_valid_s = fwd_valid;\n"], [79, "assign fwd_data_s = fwd_data;\n"], [81, "always @(posedge clk) begin\n"], [82, "  if (~fwd_valid | m_axi_ready)\n"], [83, "    fwd_data <= bwd_data_s;\n"], [84, "end\n"], [86, "always @(posedge clk) begin\n"], [87, "  if (resetn == 1'b0) begin\n"], [88, "    fwd_valid <= 1'b0;\n"], [90, "    if (bwd_valid_s)\n"], [91, "      fwd_valid <= 1'b1;\n"], [92, "    else if (m_axi_ready)\n"], [93, "      fwd_valid <= 1'b0;\n"], [95, "end\n"], [97, "end else begin\n"], [98, "assign fwd_data_s = bwd_data_s;\n"], [99, "assign fwd_valid_s = bwd_valid_s;\n"], [100, "assign fwd_ready_s = m_axi_ready;\n"], [101, "end\n"]], "Add": [[88, "  /*\n"], [88, "   s_axi_data  -> bwd_data     -> fwd_data(1)  -> m_axi_data\n"], [88, "   s_axi_valid -> bwd_valid    -> fwd_valid(1) -> m_axi_valid\n"], [88, "   s_axi_ready <- bwd_ready(2) <- fwd_ready <- m_axi_ready\n"], [88, "   (1) FORWARD_REGISTERED inserts a set of FF before m_axi_data and m_axi_valid\n"], [88, "   (2) BACKWARD_REGISTERED insters a FF before s_axi_ready\n"], [88, "  */\n"], [88, "  wire [DATA_WIDTH-1:0] bwd_data_s;\n"], [88, "  wire bwd_valid_s;\n"], [88, "  wire bwd_ready_s;\n"], [88, "  wire [DATA_WIDTH-1:0] fwd_data_s;\n"], [88, "  wire fwd_valid_s;\n"], [88, "  wire fwd_ready_s;\n"], [88, "  generate if (FORWARD_REGISTERED == 1) begin\n"], [88, "    reg fwd_valid = 1'b0;\n"], [88, "    reg [DATA_WIDTH-1:0] fwd_data = 'h00;\n"], [88, "    assign fwd_ready_s = ~fwd_valid | m_axi_ready;\n"], [88, "    assign fwd_valid_s = fwd_valid;\n"], [88, "    assign fwd_data_s = fwd_data;\n"], [88, "    always @(posedge clk) begin\n"], [88, "      if (~fwd_valid | m_axi_ready)\n"], [88, "        fwd_data <= bwd_data_s;\n"], [88, "    end\n"], [88, "    always @(posedge clk) begin\n"], [88, "      if (resetn == 1'b0) begin\n"], [88, "        fwd_valid <= 1'b0;\n"], [88, "      end else begin\n"], [88, "        if (bwd_valid_s)\n"], [88, "          fwd_valid <= 1'b1;\n"], [88, "        else if (m_axi_ready)\n"], [88, "          fwd_valid <= 1'b0;\n"], [88, "      end\n"], [88, "    end\n"], [93, "    assign fwd_data_s = bwd_data_s;\n"], [93, "    assign fwd_valid_s = bwd_valid_s;\n"], [93, "    assign fwd_ready_s = m_axi_ready;\n"]]}}