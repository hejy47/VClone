{"Source Block": ["hdl/library/spi_engine/spi_engine_execution/spi_engine_execution.v@194:225@HdlStmProcess", "  end\nend\n\n// Load the interface configurations from the 'Configuration Write'\n// instruction\nalways @(posedge clk) begin\n  if (resetn == 1'b0) begin\n    cpha <= DEFAULT_SPI_CFG[0];\n    cpol <= DEFAULT_SPI_CFG[1];\n    three_wire <= DEFAULT_SPI_CFG[2];\n    clk_div <= DEFAULT_CLK_DIV;\n    word_length <= DATA_WIDTH;\n    left_aligned <= 8'b0;\n  end else if (exec_write_cmd == 1'b1) begin\n    if (cmd[9:8] == REG_CONFIG) begin\n      cpha <= cmd[0];\n      cpol <= cmd[1];\n      three_wire <= cmd[2];\n    end else if (cmd[9:8] == REG_CLK_DIV) begin\n      clk_div <= cmd[7:0];\n    end else if (cmd[9:8] == REG_WORD_LENGTH) begin\n      // the max value of this reg must be DATA_WIDTH\n      word_length <= cmd[7:0];\n      left_aligned <= DATA_WIDTH - cmd[7:0];\n    end\n  end\nend\n\nalways @(posedge clk) begin\n  if ((clk_div_last == 1'b0 && idle == 1'b0 && wait_for_io == 1'b0 &&\n    clk_div_counter == 'h01) || clk_div == 'h00)\n    clk_div_last <= 1'b1;\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[199, "always @(posedge clk) begin\n"], [200, "  if (resetn == 1'b0) begin\n"], [201, "    cpha <= DEFAULT_SPI_CFG[0];\n"], [202, "    cpol <= DEFAULT_SPI_CFG[1];\n"], [203, "    three_wire <= DEFAULT_SPI_CFG[2];\n"], [204, "    clk_div <= DEFAULT_CLK_DIV;\n"], [205, "    word_length <= DATA_WIDTH;\n"], [206, "    left_aligned <= 8'b0;\n"], [207, "  end else if (exec_write_cmd == 1'b1) begin\n"], [208, "    if (cmd[9:8] == REG_CONFIG) begin\n"], [209, "      cpha <= cmd[0];\n"], [210, "      cpol <= cmd[1];\n"], [211, "      three_wire <= cmd[2];\n"], [212, "    end else if (cmd[9:8] == REG_CLK_DIV) begin\n"], [213, "      clk_div <= cmd[7:0];\n"], [214, "    end else if (cmd[9:8] == REG_WORD_LENGTH) begin\n"], [216, "      word_length <= cmd[7:0];\n"], [217, "      left_aligned <= DATA_WIDTH - cmd[7:0];\n"], [220, "end\n"]], "Add": [[217, "  always @(posedge clk) begin\n"], [217, "    if (resetn == 1'b0) begin\n"], [217, "      cpha <= DEFAULT_SPI_CFG[0];\n"], [217, "      cpol <= DEFAULT_SPI_CFG[1];\n"], [217, "      three_wire <= DEFAULT_SPI_CFG[2];\n"], [217, "      clk_div <= DEFAULT_CLK_DIV;\n"], [217, "      word_length <= DATA_WIDTH;\n"], [217, "      left_aligned <= 8'b0;\n"], [217, "    end else if (exec_write_cmd == 1'b1) begin\n"], [217, "      if (cmd[9:8] == REG_CONFIG) begin\n"], [217, "        cpha <= cmd[0];\n"], [217, "        cpol <= cmd[1];\n"], [217, "        three_wire <= cmd[2];\n"], [217, "      end else if (cmd[9:8] == REG_CLK_DIV) begin\n"], [217, "        clk_div <= cmd[7:0];\n"], [217, "      end else if (cmd[9:8] == REG_WORD_LENGTH) begin\n"], [217, "        word_length <= cmd[7:0];\n"], [217, "        left_aligned <= DATA_WIDTH - cmd[7:0];\n"], [217, "      end\n"]]}}