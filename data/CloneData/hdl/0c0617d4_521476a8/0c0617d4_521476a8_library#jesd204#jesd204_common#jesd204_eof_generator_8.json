{"Source Block": ["hdl/library/jesd204/jesd204_common/jesd204_eof_generator.v@85:117@HdlStmIf", "  end\n  eomf <= lmfc_edge_d1;\nend\n\ngenerate\nif (CW > DPW_LOG2) begin\n  reg [CW-DPW_LOG2-1:0] beat_counter = 'h00;\n  wire [CW-DPW_LOG2-1:0] cfg_beats_per_frame = cfg_octets_per_frame[CW-1:DPW_LOG2];\n\n  assign beat_counter_sof = beat_counter == 'h00;\n  assign beat_counter_eof = beat_counter == cfg_beats_per_frame;\n  assign small_octets_per_frame = cfg_beats_per_frame == 'h00;\n\n  always @(posedge clk) begin\n    if (reset == 1'b1) begin\n      beat_counter <= 'h00;\n    end else if (beat_counter_eof == 1'b1) begin\n      beat_counter <= 'h00;\n    end else begin\n      beat_counter <= beat_counter + 1'b1;\n    end\n  end\n\nend else begin\n  assign beat_counter_sof = 1'b1;\n  assign beat_counter_eof = 1'b1;\n  assign small_octets_per_frame = 1'b1;\nend\nendgenerate\n\nfunction [1:0] ffs;\ninput [2:0] x;\nbegin\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[90, "if (CW > DPW_LOG2) begin\n"], [91, "  reg [CW-DPW_LOG2-1:0] beat_counter = 'h00;\n"], [92, "  wire [CW-DPW_LOG2-1:0] cfg_beats_per_frame = cfg_octets_per_frame[CW-1:DPW_LOG2];\n"], [94, "  assign beat_counter_sof = beat_counter == 'h00;\n"], [95, "  assign beat_counter_eof = beat_counter == cfg_beats_per_frame;\n"], [96, "  assign small_octets_per_frame = cfg_beats_per_frame == 'h00;\n"], [99, "    if (reset == 1'b1) begin\n"], [100, "      beat_counter <= 'h00;\n"], [101, "    end else if (beat_counter_eof == 1'b1) begin\n"], [102, "      beat_counter <= 'h00;\n"], [104, "      beat_counter <= beat_counter + 1'b1;\n"], [108, "end else begin\n"], [109, "  assign beat_counter_sof = 1'b1;\n"], [110, "  assign beat_counter_eof = 1'b1;\n"], [111, "  assign small_octets_per_frame = 1'b1;\n"], [112, "end\n"]], "Add": [[96, "  localparam CW = MAX_OCTETS_PER_FRAME > 128 ? 8 :\n"], [96, "    MAX_OCTETS_PER_FRAME > 64 ? 7 :\n"], [96, "    MAX_OCTETS_PER_FRAME > 32 ? 6 :\n"], [96, "    MAX_OCTETS_PER_FRAME > 16 ? 5 :\n"], [96, "    MAX_OCTETS_PER_FRAME > 8 ? 4 :\n"], [96, "    MAX_OCTETS_PER_FRAME > 4 ? 3 :\n"], [96, "    MAX_OCTETS_PER_FRAME > 2 ? 2 : 1;\n"], [96, "  localparam DPW_LOG2 = DATA_PATH_WIDTH == 8 ? 3 :\n"], [96, "    DATA_PATH_WIDTH == 4 ? 2 : 1;\n"], [96, "  reg lmfc_edge_d1 = 1'b0;\n"], [96, "  wire beat_counter_sof;\n"], [96, "  wire beat_counter_eof;\n"], [96, "  wire small_octets_per_frame;\n"], [102, "    if (cfg_generate_eomf == 1'b1) begin\n"], [102, "      lmfc_edge_d1 <= lmfc_edge;\n"], [104, "      lmfc_edge_d1 <= 1'b0;\n"], [105, "    eomf <= lmfc_edge_d1;\n"]]}}