{"Source Block": ["hdl/library/util_dacfifo/util_dacfifo.v@105:115@HdlIdDef", "  wire    [(ADDRESS_WIDTH-1):0]       dma_waddr_b2g_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_raddr_b2g_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dma_raddr_g2b_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_waddr_g2b_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_lastaddr_g2b_s;\n  wire                                dac_mem_ren_s;\n\n  // DMA / Write interface\n\n  assign dma_addr_diff_s = {1'b1, dma_waddr} - dma_raddr;\n\n"], "Clone Blocks": [["hdl/library/util_dacfifo/util_dacfifo.v@102:112", "  wire    [(DATA_WIDTH-1):0]          dac_data_bypass_s;\n  wire    [ADDRESS_WIDTH:0]           dma_addr_diff_s;\n  wire    [ADDRESS_WIDTH:0]           dac_addr_diff_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dma_waddr_b2g_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_raddr_b2g_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dma_raddr_g2b_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_waddr_g2b_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_lastaddr_g2b_s;\n  wire                                dac_mem_ren_s;\n\n  // DMA / Write interface\n"], ["hdl/library/util_dacfifo/util_dacfifo.v@101:111", "  wire    [(DATA_WIDTH-1):0]          dac_data_fifo_s;\n  wire    [(DATA_WIDTH-1):0]          dac_data_bypass_s;\n  wire    [ADDRESS_WIDTH:0]           dma_addr_diff_s;\n  wire    [ADDRESS_WIDTH:0]           dac_addr_diff_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dma_waddr_b2g_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_raddr_b2g_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dma_raddr_g2b_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_waddr_g2b_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_lastaddr_g2b_s;\n  wire                                dac_mem_ren_s;\n\n"], ["hdl/library/util_dacfifo/util_dacfifo.v@103:113", "  wire    [ADDRESS_WIDTH:0]           dma_addr_diff_s;\n  wire    [ADDRESS_WIDTH:0]           dac_addr_diff_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dma_waddr_b2g_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_raddr_b2g_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dma_raddr_g2b_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_waddr_g2b_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_lastaddr_g2b_s;\n  wire                                dac_mem_ren_s;\n\n  // DMA / Write interface\n\n"], ["hdl/library/util_dacfifo/util_dacfifo.v@104:114", "  wire    [ADDRESS_WIDTH:0]           dac_addr_diff_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dma_waddr_b2g_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_raddr_b2g_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dma_raddr_g2b_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_waddr_g2b_s;\n  wire    [(ADDRESS_WIDTH-1):0]       dac_lastaddr_g2b_s;\n  wire                                dac_mem_ren_s;\n\n  // DMA / Write interface\n\n  assign dma_addr_diff_s = {1'b1, dma_waddr} - dma_raddr;\n"]], "Diff Content": {"Delete": [], "Add": [[110, "  wire                                dac_xfer_posedge_s;\n"], [110, "  wire                                dac_rst_int_s;\n"], [110, "  always @(posedge dma_clk) begin\n"], [110, "    dma_xfer_req_d1 <= dma_xfer_req;\n"], [110, "    dma_xfer_req_d2 <= dma_xfer_req_d1;\n"], [110, "  end\n"], [110, "  assign dma_xfer_posedge_s = ~dma_xfer_req_d2 & dma_xfer_req_d1;\n"], [110, "  always @(posedge dma_clk) begin\n"], [110, "    if ((dma_rst == 1'b1) || (dma_xfer_last == 1'b1)) begin\n"], [110, "      dma_init <= 1'b0;\n"], [110, "    end else begin\n"], [110, "      if (dma_xfer_posedge_s == 1'b1) begin\n"], [110, "        dma_init <= 1'b1;\n"], [110, "      end\n"], [110, "    end\n"], [110, "  end\n"], [110, "  assign dma_rst_int_s = dma_rst | (dma_xfer_posedge_s & ~dma_init);\n"]]}}