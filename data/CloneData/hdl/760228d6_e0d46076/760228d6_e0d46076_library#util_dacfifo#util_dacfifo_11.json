{"Source Block": ["hdl/library/util_dacfifo/util_dacfifo.v@115:141@HdlStmProcess", "      dma_ready_d <= 1'b1;                                // Fifo is always ready\n      dma_xfer_req_ff <= dma_xfer_req;\n    end\n  end\n\n  always @(posedge dma_clk) begin\n    if(dma_rst == 1'b1) begin\n      dma_waddr <= 'b0;\n      dma_lastaddr <= 'b0;\n      dma_xfer_out <= 1'b0;\n    end else begin\n      if (dma_valid && dma_xfer_req) begin\n        dma_waddr <= dma_waddr + 1;\n        dma_xfer_out <= 1'b0;\n      end\n      if (dma_xfer_last) begin\n        dma_lastaddr <= dma_waddr;\n        dma_waddr <= 'b0;\n        dma_xfer_out <= 1'b1;\n      end\n    end\n  end\n\n  assign dma_wren = dma_valid & dma_xfer_req;\n\n  // sync lastaddr to dac clock domain\n\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[123, "      dma_lastaddr <= 'b0;\n"], [124, "      dma_xfer_out <= 1'b0;\n"], [126, "      if (dma_valid && dma_xfer_req) begin\n"], [128, "        dma_xfer_out <= 1'b0;\n"], [130, "      if (dma_xfer_last) begin\n"], [131, "        dma_lastaddr <= dma_waddr;\n"], [133, "        dma_xfer_out <= 1'b1;\n"]], "Add": [[124, "      dma_waddr_g <= 'b0;\n"], [124, "      dma_xfer_out_fifo <= 1'b0;\n"], [124, "      dma_xfer_out_bypass <= 1'b0;\n"], [126, "      if (dma_wren_s == 1'b1) begin\n"], [128, "        dma_xfer_out_fifo <= 1'b0;\n"], [131, "      if (dma_xfer_last == 1'b1) begin\n"], [133, "        dma_xfer_out_fifo <= 1'b1;\n"], [134, "      dma_waddr_g <= b2g(dma_waddr);\n"], [134, "      dma_xfer_out_bypass <= dma_xfer_req;\n"]]}}