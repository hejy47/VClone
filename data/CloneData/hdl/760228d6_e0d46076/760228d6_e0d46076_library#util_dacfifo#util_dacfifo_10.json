{"Source Block": ["hdl/library/util_dacfifo/util_dacfifo.v@105:123@HdlStmProcess", "  wire                                dma_wren;\n  wire    [(DATA_WIDTH-1):0]          dac_data_s;\n\n  // write interface\n\n  always @(posedge dma_clk) begin\n    if(dma_rst == 1'b1) begin\n      dma_ready_d <= 1'b0;\n      dma_xfer_req_ff <= 1'b0;\n    end else begin\n      dma_ready_d <= 1'b1;                                // Fifo is always ready\n      dma_xfer_req_ff <= dma_xfer_req;\n    end\n  end\n\n  always @(posedge dma_clk) begin\n    if(dma_rst == 1'b1) begin\n      dma_waddr <= 'b0;\n      dma_lastaddr <= 'b0;\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[112, "      dma_ready_d <= 1'b0;\n"], [113, "      dma_xfer_req_ff <= 1'b0;\n"], [115, "      dma_ready_d <= 1'b1;                                // Fifo is always ready\n"], [116, "      dma_xfer_req_ff <= dma_xfer_req;\n"]], "Add": [[113, "      dma_ready_fifo <= 1'b0;\n"], [116, "      dma_ready_fifo <= 1'b1;\n"], [118, "  assign dma_addr_diff_s = {1'b1, dma_waddr} - dma_raddr;\n"], [118, "  always @(posedge dma_clk) begin\n"], [118, "    if (dma_rst == 1'b1) begin\n"], [118, "      dma_addr_diff <= 'b0;\n"], [118, "      dma_raddr_m1 <= 'b0;\n"], [118, "      dma_raddr_m2 <= 'b0;\n"], [118, "      dma_raddr <= 'b0;\n"], [118, "      dma_ready_bypass <= 1'b0;\n"], [118, "    end else begin\n"], [118, "      dma_raddr_m1 <= dac_raddr_g;\n"], [118, "      dma_raddr_m2 <= dma_raddr_m1;\n"], [118, "      dma_raddr <= g2b(dma_raddr_m2);\n"], [118, "      dma_addr_diff <= dma_addr_diff_s[ADDRESS_WIDTH-1:0];\n"], [118, "      if (dma_addr_diff >= FIFO_THRESHOLD_HI) begin\n"], [118, "        dma_ready_bypass <= 1'b0;\n"], [118, "      end else begin\n"], [118, "        dma_ready_bypass <= 1'b1;\n"], [118, "      end\n"], [118, "    end\n"], [118, "  end\n"], [118, "  assign dma_wren_s = dma_valid & dma_xfer_req & dma_ready;\n"]]}}