{"Source Block": ["zipcpu/rtl/core/idecode.v@609:652@HdlStmIf", "\t//\t\tby one\n\t// Note that we're not using iword here ... there's a lot of logic\n\t// taking place, and it's only valid if the new word is not compressed.\n\t//\n\treg\tr_valid;\n\tgenerate if (OPT_OPIPE)\n\tbegin\n\t\treg\tr_pipe;\n\n\t\tinitial\tr_pipe = 1'b0;\n\t\talways @(posedge i_clk)\n\t\tif (i_reset)\n\t\t\tr_pipe <= 1'b0;\n\t\telse if (i_ce)\n\t\t\tr_pipe <= (r_valid)&&((pf_valid)||(o_phase))\n\t\t\t\t// Both must be memory operations\n\t\t\t\t&&(w_mem)&&(o_M)\n\t\t\t\t// Both must be writes, or both stores\n\t\t\t\t&&(o_op[0] == w_cis_op[0])\n\t\t\t\t// Both must be register ops\n\t\t\t\t&&(w_rB == o_rB)\n\t\t\t\t// Both must use the same register for B\n\t\t\t\t&&(w_dcdB[3:0] == o_dcdB[3:0])\n\t\t\t\t// But ... the result can never be B\n\t\t\t\t&&((o_op[0])\n\t\t\t\t\t||(w_dcdB[3:0] != o_dcdA[3:0]))\n\t\t\t\t// Needs to be to the mode, supervisor or user\n\t\t\t\t&&(i_gie == o_gie)\n\t\t\t\t// Same condition, or no condition before\n\t\t\t\t&&((w_cond[2:0]==o_cond[2:0])\n\t\t\t\t\t||(o_cond[2:0] == 3'h0))\n\t\t\t\t// Same or incrementing immediate\n\t\t\t\t&&(w_I[13]==r_I[13])\n\t\t\t\t&&((w_I[13:2]==r_I[13:2])\n\t\t\t\t\t||({1'b0, w_I[13:2]}==(r_I[13:2]+12'h1)));\n\t\tassign o_pipe = r_pipe;\n\tend else begin\n\t\tassign o_pipe = 1'b0;\n\tend endgenerate\n\n\tinitial\tr_valid = 1'b0;\n\talways @(posedge i_clk)\n\t\tif (i_reset)\n\t\t\tr_valid <= 1'b0;\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[642, "\t\t\t\t&&((w_I[13:2]==r_I[13:2])\n"], [643, "\t\t\t\t\t||({1'b0, w_I[13:2]}==(r_I[13:2]+12'h1)));\n"]], "Add": [[616, "\t\twire\t[13:0]\tpipe_addr_diff;\n"], [616, "\t\tassign\t\tpipe_addr_diff = w_I[13:0] - r_I[13:0];\n"], [631, "\t\t\t\t&&(w_dcdB[3:1] != 3'h7)\n"], [636, "\t\t\t\t&&((o_op[0])||(w_dcdR[3:1] != 3'h7))\n"], [636, "\t\t\t\t&&((o_op[0])||(o_dcdR[3:1] != 3'h7))\n"], [643, "\t\t\t\t&&((w_I==r_I)\n"], [643, "\t\t\t\t\t||(pipe_addr_diff <= 14'h4));\n"]]}}