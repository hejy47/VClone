{"Source Block": ["zipcpu/rtl/peripherals/zipmmu.v@379:410@HdlStmProcess", "\t// Step one -- handle the control bus--i_wbs_cyc_stb\n\t//\n\t//\n\t//////////////////////////////////////////\n\tinitial\ttlb_accessed = -1;\n\talways @(posedge i_clk)\n\tbegin\n\t\t// Write to the Translation lookaside buffer\n\t\tif (wr_vtable)\n\t\t\ttlb_vdata[wr_tlb_addr]<=i_wbs_data[(DW-1):LGPGSZB];\n\t\tif (wr_ptable)\n\t\t\ttlb_pdata[wr_tlb_addr]<=i_wbs_data[(AW+1):LGPGSZB];\n\t\t// Set the context register for the page\n\t\tif (wr_vtable)\n\t\t\ttlb_flags[wr_tlb_addr] <= i_wbs_data[3:1];\n\t\tif (wr_vtable)\n\t\t\ttlb_accessed[wr_tlb_addr] <= 1'b0;\n\t\t// Otherwise, keep track of the accessed bit if we\n\t\t// ever access this page\n\t\telse if ((!kernel_context)&&(pending_page_valid))\n\t\t\ttlb_accessed[s_tlb_addr] <= 1'b1;\n\t\telse if ((!kernel_context)&&(this_page_valid))\n\t\t\ttlb_accessed[s_tlb_addr] <= 1'b1;\n\t\tif (wr_vtable)\n\t\t\ttlb_cdata[wr_tlb_addr][(LGLCTX-1):0]\n\t\t\t\t<= i_wbs_data[(LGLCTX+4-1):4];\n\tend\n\tgenerate if (LGHCTX > 0)\n\tbegin : HCTX\n\t\talways @(posedge i_clk)\n\t\tif (wr_ptable)\n\t\t\ttlb_cdata[wr_tlb_addr][(LGCTXT-1):LGLCTX]\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[401, "\t\t\ttlb_accessed[s_tlb_addr] <= 1'b1;\n"], [402, "\t\tif (wr_vtable)\n"], [403, "\t\t\ttlb_cdata[wr_tlb_addr][(LGLCTX-1):0]\n"], [404, "\t\t\t\t<= i_wbs_data[(LGLCTX+4-1):4];\n"]], "Add": [[393, "\t\tif (wr_vtable)\n"], [393, "\t\t\ttlb_cdata[wr_tlb_addr][(LGLCTX-1):0]\n"], [393, "\t\t\t\t<= i_wbs_data[(LGLCTX+4-1):4];\n"], [393, "\tend\n"], [393, "\tinitial\ttlb_accessed = 0;\n"], [393, "\talways @(posedge i_clk)\n"], [393, "\tif (i_reset)\n"], [393, "\t\ttlb_accessed <= 0;\n"], [393, "\telse begin\n"], [404, "\t\t\ttlb_accessed[last_tlb] <= 1'b1;\n"]]}}