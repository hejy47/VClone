{"Source Block": ["zipcpu/bench/formal/abs_mpy.v@57:115@HdlStmIf", "// i_stb instead of this_is_a_multiply_op\n// o_result\n// o_busy\n// o_done\n\tgenerate\n\tif (IMPLEMENT_MPY == 0)\n\tbegin // No multiply support.\n\n\t\tassign\to_result   = 64'h00;\n\t\tassign\to_busy     = 1'b0;\n\t\tassign\to_valid    = 1'b1;\n\t\talways @(*) o_hi = 1'b0; // Not needed\n\n\tend else //\n\tbegin // Our single clock option (no extra clocks)\n\n\t\twire\t[2:0]\tnext_delay_to_valid;\n\n\t\tassign\tnext_delay_to_valid = $anyseq;\n\t\tassign\to_result = $anyseq;\n\n\t\treg\t[2:0]\tdelay_to_valid;\n\t\treg\t\tr_busy;\n\n\t\tinitial\tdelay_to_valid = 3'h0;\n\t\talways @(posedge i_clk)\n\t\tif (i_reset)\n\t\t\tdelay_to_valid <= 0;\n\t\telse if ((i_stb)&&(next_delay_to_valid != 0))\n\t\t\tdelay_to_valid <= next_delay_to_valid;\n\t\telse if (delay_to_valid > 0)\n\t\t\tdelay_to_valid <= delay_to_valid - 1'b1;\n\n\t\tinitial\tr_busy = 1'b0;\n\t\talways @(posedge i_clk)\n\t\tif (i_reset)\n\t\t\tr_busy <= 1'b0;\n\t\telse if (i_stb)\n\t\t\tr_busy <= (next_delay_to_valid != 0);\n\t\telse\n\t\t\tr_busy <= (delay_to_valid != 3'h1);\n\n\t\talways @(posedge i_clk)\n\t\tif (i_reset)\n\t\t\to_valid <= 1'b0;\n\t\telse if ((i_stb)&&(next_delay_to_valid == 0))\n\t\t\to_valid <= 1'b1;\n\t\telse\n\t\t\to_valid <= (o_busy)&&(delay_to_valid == 3'h1);\n\n\t\talways @(posedge i_clk)\n\t\tif (i_stb)\n\t\t\to_hi <= i_op[1];\n\n\t\tassign\to_busy = r_busy;\n\tend\n\tendgenerate // All possible multiply results have been determined\n\nendmodule\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[96, "\t\telse\n"]], "Add": [[96, "\t\telse if (r_busy)\n"]]}}