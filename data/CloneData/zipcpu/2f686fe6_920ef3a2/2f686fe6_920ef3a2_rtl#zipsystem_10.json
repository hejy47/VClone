{"Source Block": ["zipcpu/rtl/zipsystem.v@865:875@HdlStmAssign", "\tassign\tdbg_odata = (!dbg_addr) ? cmd_data\n\t\t\t\t:((!cmd_addr[5])?cpu_dbg_data : sys_idata);\n\tinitial dbg_ack = 1'b0;\n\talways @(posedge i_clk)\n\t\tdbg_ack <= (dbg_cyc)&&(dbg_stb)&&(!dbg_stall);\n\tassign\tdbg_stall=(dbg_cyc)&&((!sys_dbg_cyc)||(sys_stall))&&(dbg_addr);\n\n\t// Now for the external wishbone bus\n\t//\tNeed to arbitrate between the flash cache and the CPU\n\t// The way this works, though, the CPU will stall once the flash \n\t// cache gets access to the bus--the CPU will be stuck until the \n"], "Clone Blocks": [["zipcpu/rtl/zipbones.v@227:237", "\t// Return debug response values\n\tassign\tdbg_odata = (!dbg_addr)?cmd_data :cpu_dbg_data;\n\tinitial dbg_ack = 1'b0;\n\talways @(posedge i_clk)\n\t\tdbg_ack <= (dbg_stb)&&(!o_dbg_stall);\n\tassign\tdbg_stall= (cpu_dbg_stall)&&(dbg_addr);\n\n\tassign\to_ext_int = (cmd_halt) && (!i_wb_stall);\n\n\n\t// Make verilator happy\n"], ["zipcpu/rtl/zipsystem.v@860:871", "\t// Return debug response values\n\t// A return from one of three busses:\n\t//\tCMD\tgiving command instructions to the CPU (step, halt, etc)\n\t//\tCPU-DBG-DATA\tinternal register responses from within the CPU\n\t//\tsys\tResponses from the front-side bus here in the ZipSystem\n\tassign\tdbg_odata = (!dbg_addr) ? cmd_data\n\t\t\t\t:((!cmd_addr[5])?cpu_dbg_data : sys_idata);\n\tinitial dbg_ack = 1'b0;\n\talways @(posedge i_clk)\n\t\tdbg_ack <= (dbg_cyc)&&(dbg_stb)&&(!dbg_stall);\n\tassign\tdbg_stall=(dbg_cyc)&&((!sys_dbg_cyc)||(sys_stall))&&(dbg_addr);\n\n"], ["zipcpu/rtl/zipbones.v@224:234", "`endif\n\t\t\t);\n\n\t// Return debug response values\n\tassign\tdbg_odata = (!dbg_addr)?cmd_data :cpu_dbg_data;\n\tinitial dbg_ack = 1'b0;\n\talways @(posedge i_clk)\n\t\tdbg_ack <= (dbg_stb)&&(!o_dbg_stall);\n\tassign\tdbg_stall= (cpu_dbg_stall)&&(dbg_addr);\n\n\tassign\to_ext_int = (cmd_halt) && (!i_wb_stall);\n"], ["zipcpu/rtl/zipbones.v@225:236", "\t\t\t);\n\n\t// Return debug response values\n\tassign\tdbg_odata = (!dbg_addr)?cmd_data :cpu_dbg_data;\n\tinitial dbg_ack = 1'b0;\n\talways @(posedge i_clk)\n\t\tdbg_ack <= (dbg_stb)&&(!o_dbg_stall);\n\tassign\tdbg_stall= (cpu_dbg_stall)&&(dbg_addr);\n\n\tassign\to_ext_int = (cmd_halt) && (!i_wb_stall);\n\n\n"], ["zipcpu/rtl/zipsystem.v@862:872", "\t//\tCMD\tgiving command instructions to the CPU (step, halt, etc)\n\t//\tCPU-DBG-DATA\tinternal register responses from within the CPU\n\t//\tsys\tResponses from the front-side bus here in the ZipSystem\n\tassign\tdbg_odata = (!dbg_addr) ? cmd_data\n\t\t\t\t:((!cmd_addr[5])?cpu_dbg_data : sys_idata);\n\tinitial dbg_ack = 1'b0;\n\talways @(posedge i_clk)\n\t\tdbg_ack <= (dbg_cyc)&&(dbg_stb)&&(!dbg_stall);\n\tassign\tdbg_stall=(dbg_cyc)&&((!sys_dbg_cyc)||(sys_stall))&&(dbg_addr);\n\n\t// Now for the external wishbone bus\n"], ["zipcpu/rtl/zipsystem.v@863:874", "\t//\tCPU-DBG-DATA\tinternal register responses from within the CPU\n\t//\tsys\tResponses from the front-side bus here in the ZipSystem\n\tassign\tdbg_odata = (!dbg_addr) ? cmd_data\n\t\t\t\t:((!cmd_addr[5])?cpu_dbg_data : sys_idata);\n\tinitial dbg_ack = 1'b0;\n\talways @(posedge i_clk)\n\t\tdbg_ack <= (dbg_cyc)&&(dbg_stb)&&(!dbg_stall);\n\tassign\tdbg_stall=(dbg_cyc)&&((!sys_dbg_cyc)||(sys_stall))&&(dbg_addr);\n\n\t// Now for the external wishbone bus\n\t//\tNeed to arbitrate between the flash cache and the CPU\n\t// The way this works, though, the CPU will stall once the flash \n"], ["zipcpu/rtl/zipbones.v@223:233", "\t\t\t, o_cpu_debug\n`endif\n\t\t\t);\n\n\t// Return debug response values\n\tassign\tdbg_odata = (!dbg_addr)?cmd_data :cpu_dbg_data;\n\tinitial dbg_ack = 1'b0;\n\talways @(posedge i_clk)\n\t\tdbg_ack <= (dbg_stb)&&(!o_dbg_stall);\n\tassign\tdbg_stall= (cpu_dbg_stall)&&(dbg_addr);\n\n"]], "Diff Content": {"Delete": [[870, "\tassign\tdbg_stall=(dbg_cyc)&&((!sys_dbg_cyc)||(sys_stall))&&(dbg_addr);\n"]], "Add": [[870, "\t\tdbg_ack <= (dbg_stb)&&(!dbg_stall);\n"], [870, "\tassign\tdbg_stall=(dbg_cyc)&&(\n"], [870, "\t\t((!sys_dbg_cyc)&&(cpu_dbg_stall))\n"], [870, "\t\t\t||(sys_stall)\n"], [870, "\t\t)&&(dbg_addr);\n"]]}}