{"Source Block": ["zipcpu/rtl/peripherals/zipmmu.v@361:391@HdlStmProcess", "\t//\n\t// Step one -- handle the control bus--i_wbs_cyc_stb\n\t//\n\t//\n\t//////////////////////////////////////////\n\talways @(posedge i_clk)\n\tbegin\n\t\t// Write to the Translation lookaside buffer\n\t\tif (wr_vtable)\n\t\t\ttlb_vdata[wr_tlb_addr]<=i_wbs_data[(DW-1):LGPGSZB];\n\t\tif (wr_ptable)\n\t\t\ttlb_pdata[wr_tlb_addr]<=i_wbs_data[(AW+1):LGPGSZB];\n\t\t// Set the context register for the page\n\t\tif ((wr_vtable)||(wr_ptable))\n\t\t\ttlb_flags[wr_tlb_addr] <= i_wbs_data[3:1];\n\t\t// Otherwise, keep track of the accessed bit if we\n\t\t// ever access this page\n\t\telse if ((!kernel_context)&&(s_pending)&&(s_tlb_hit)&&((!r_we)||(!ro_flag)))\n\t\t\ttlb_flags[s_tlb_addr][2] <= 1'b1;\n\t\tif (wr_vtable)\n\t\t\ttlb_cdata[wr_tlb_addr][((LGCTXT>=8)? 7:(LGCTXT-1)):0]\n\t\t\t\t<= i_wbs_data[((LGCTXT>=8)? 11:(4+LGCTXT-1)):4];\n\t\tif ((wr_ptable)&&(LGCTXT > 8))\n\t\t\ttlb_cdata[wr_tlb_addr][(LGCTXT-1):8]\n\t\t\t\t<= i_wbs_data[(4+LGCTXT-8-1):4];\n\tend\n\t// Writing to the control word\n\tinitial z_context = 1'b1;\n\tinitial r_context_word = 0;\n\talways @(posedge i_clk)\n\tif (wr_control)\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[375, "\t\t\ttlb_flags[wr_tlb_addr] <= i_wbs_data[3:1];\n"], [378, "\t\telse if ((!kernel_context)&&(s_pending)&&(s_tlb_hit)&&((!r_we)||(!ro_flag)))\n"], [379, "\t\t\ttlb_flags[s_tlb_addr][2] <= 1'b1;\n"]], "Add": [[375, "\t\t\ttlb_flags[wr_tlb_addr] <= i_wbs_data[3:0];\n"], [379, "\t\telse if ((!kernel_context)&&(pending_page_valid))\n"], [379, "\t\t\ttlb_flags[s_tlb_addr][`AXFLAG] <= 1'b1;\n"], [379, "\t\telse if ((!kernel_context)&&(this_page_valid));\n"], [379, "\t\t\ttlb_flags[s_tlb_addr][`AXFLAG] <= 1'b1;\n"]]}}