{"Source Block": ["zipcpu/rtl/peripherals/zipmmu.v@454:497@HdlStmProcess", "\t//\n\t//\n\tinitial\ts_pending = 1'b0;\n\tinitial\tr_pending = 1'b0;\n\tinitial\tr_valid   = 1'b0;\n\talways @(posedge i_clk)\n\tbegin\n\t\tif (!o_rtn_stall)\n\t\tbegin\n\t\t\tr_pending <= i_wbm_stb;\n\t\t\tr_we      <= i_wbm_we;\n\t\t\to_addr    <= { { (gie_context)?\n\t\t\t\ti_wbm_addr[(AW-1):LGPGSZW] : last_ppage },\n\t\t\t\ti_wbm_addr[(LGPGSZW-1):0]};\n\t\t\tr_addr    <= i_wbm_addr;\n\t\t\tr_data    <= i_wbm_data;\n\t\t\tr_sel     <= i_wbm_sel;\n\t\t\tr_valid   <= (i_wbm_stb)&&(\n\t\t\t\t(gie_context)\n\t\t\t\t||((last_page_valid)\n\t\t\t\t\t&&(i_wbm_addr[(DW-3):(DW-2-VAW)] == last_vpage)\n\t\t\t\t\t&&((!last_ro)||(!i_wbm_we))));\n\t\t\ts_pending <= 1'b0;\n\t\tend else if (!r_valid) begin\n\t\t\tr_valid <= (!miss_pending)&&((last_page_valid)\n\t\t\t\t\t&&(r_addr[(DW-3):(DW-2-VAW)]== last_vpage)\n\t\t\t\t\t&&((!last_ro)||(!r_we)));\n\t\t\to_addr <= { last_ppage , i_wbm_addr[(LGPGSZW-1):0] };\n\t\t\tr_pending<= (r_pending);\n\t\t\ts_pending <=(r_pending)&&(!gie_context);\n\t\tend\n\n\t\tif ((i_reset)||(!i_wbm_cyc)||(o_rtn_err)||((o_cyc)&&(i_err)))\n\t\tbegin\n\t\t\ts_pending <= 1'b0;\n\t\t\tr_pending <= 1'b0;\n\t\t\tr_valid   <= 1'b0;\n\t\tend\n\tend\n\t// Second clock: know which buffer entry this belong in.\n\t// If we don't already know, then the pipeline must be stalled for a\n\t// while ...\n\tgenvar k, s;\n\tgenerate\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[481, "\t\t\to_addr <= { last_ppage , i_wbm_addr[(LGPGSZW-1):0] };\n"]], "Add": [[481, "\t\t\to_addr <= { last_ppage , r_addr[(LGPGSZW-1):0] };\n"]]}}