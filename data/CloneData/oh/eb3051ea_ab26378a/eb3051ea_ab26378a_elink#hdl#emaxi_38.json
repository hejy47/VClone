{"Source Block": ["oh/elink/hdl/emaxi.v@358:414@HdlStmProcess", "   assign readinfo_rden = ~emrr_progfull & m_axi_rvalid;\n\n\n   assign emrr_write  = 1'b1;\n   \n   always @( posedge m_axi_aclk )\n     if( ~m_axi_aresetn ) \n       begin      \n\t  emrr_data[31:0]     <= 32'b0;\n\t  emrr_srcaddr[31:0]  <= 32'b0;\n\t  emrr_access_reg     <= 1'b0;\n\t  emrr_access         <= 1'b0;         \n      end \n     else \n       begin\n          emrr_access_reg     <= m_axi_rready & m_axi_rvalid;\n\t  emrr_access         <= emrr_access_reg;//added pipeline stage for data \n\t  emrr_srcaddr[31:0]  <= m_axi_rdata[63:32];\n\t  // steer read data according to size & host address lsbs\n\t  //all data needs to be right aligned\n\t  //(this is due to the Epiphany right aligning all words)\n\t  case(readinfo_out[1:0])//datamode\n            2'd0:  // byte read\n              case(readinfo_out[8:6])\n\t\t3'd0:     emrr_data[7:0] <= m_axi_rdata[7:0];\n\t\t3'd1:     emrr_data[7:0] <= m_axi_rdata[15:8];\n\t\t3'd2:     emrr_data[7:0] <= m_axi_rdata[23:16];\n\t\t3'd3:     emrr_data[7:0] <= m_axi_rdata[31:24];\n\t\t3'd4:     emrr_data[7:0] <= m_axi_rdata[39:32];\n\t\t3'd5:     emrr_data[7:0] <= m_axi_rdata[47:40];\n\t\t3'd6:     emrr_data[7:0] <= m_axi_rdata[55:48];\n\t\tdefault:  emrr_data[7:0] <= m_axi_rdata[63:56];\n              endcase\t    \n            2'd1:  // 16b hword\n              case( readinfo_out[8:7] )\n\t\t2'd0:    emrr_data[15:0] <= m_axi_rdata[15:0];\n\t\t2'd1:    emrr_data[15:0] <= m_axi_rdata[31:16];\n\t\t2'd2:    emrr_data[15:0] <= m_axi_rdata[47:32];\n\t\tdefault: emrr_data[15:0] <= m_axi_rdata[63:48];\n              endcase\n            2'd2:  // 32b word\n              if( readinfo_out[8] )\n               emrr_data[31:0] <= m_axi_rdata[63:32];\n             else\n               emrr_data[31:0] <= m_axi_rdata[31:0];\n           // 64b word already defined by defaults above\n           2'd3: begin // 64b dword\n              emrr_data[31:0]    <= m_axi_rdata[31:0];\n              \n           end\n         endcase         \n       end // else: !if( ~m_axi_aresetn )\n   \nendmodule\n/*\n copyright (c) 2014 adapteva, inc.\n contributed by fred huettig <fred@adapteva.com>\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[366, "\t  emrr_data[31:0]     <= 32'b0;\n"], [367, "\t  emrr_srcaddr[31:0]  <= 32'b0;\n"], [368, "\t  emrr_access_reg     <= 1'b0;\n"], [369, "\t  emrr_access         <= 1'b0;         \n"], [373, "          emrr_access_reg     <= m_axi_rready & m_axi_rvalid;\n"], [374, "\t  emrr_access         <= emrr_access_reg;//added pipeline stage for data \n"], [375, "\t  emrr_srcaddr[31:0]  <= m_axi_rdata[63:32];\n"], [382, "\t\t3'd0:     emrr_data[7:0] <= m_axi_rdata[7:0];\n"], [383, "\t\t3'd1:     emrr_data[7:0] <= m_axi_rdata[15:8];\n"], [384, "\t\t3'd2:     emrr_data[7:0] <= m_axi_rdata[23:16];\n"], [385, "\t\t3'd3:     emrr_data[7:0] <= m_axi_rdata[31:24];\n"], [386, "\t\t3'd4:     emrr_data[7:0] <= m_axi_rdata[39:32];\n"], [387, "\t\t3'd5:     emrr_data[7:0] <= m_axi_rdata[47:40];\n"], [388, "\t\t3'd6:     emrr_data[7:0] <= m_axi_rdata[55:48];\n"], [389, "\t\tdefault:  emrr_data[7:0] <= m_axi_rdata[63:56];\n"], [393, "\t\t2'd0:    emrr_data[15:0] <= m_axi_rdata[15:0];\n"], [394, "\t\t2'd1:    emrr_data[15:0] <= m_axi_rdata[31:16];\n"], [395, "\t\t2'd2:    emrr_data[15:0] <= m_axi_rdata[47:32];\n"], [396, "\t\tdefault: emrr_data[15:0] <= m_axi_rdata[63:48];\n"], [400, "               emrr_data[31:0] <= m_axi_rdata[63:32];\n"], [402, "               emrr_data[31:0] <= m_axi_rdata[31:0];\n"], [405, "              emrr_data[31:0]    <= m_axi_rdata[31:0];\n"]], "Add": [[369, "\t  txrr_data[31:0]     <= 32'b0;\n"], [369, "\t  txrr_srcaddr[31:0]  <= 32'b0;\n"], [369, "\t  txrr_access_reg     <= 1'b0;\n"], [369, "\t  txrr_access         <= 1'b0;         \n"], [375, "          txrr_access_reg     <= m_axi_rready & m_axi_rvalid;\n"], [375, "\t  txrr_access         <= txrr_access_reg;//added pipeline stage for data \n"], [375, "\t  txrr_srcaddr[31:0]  <= m_axi_rdata[63:32];\n"], [389, "\t\t3'd0:     txrr_data[7:0] <= m_axi_rdata[7:0];\n"], [389, "\t\t3'd1:     txrr_data[7:0] <= m_axi_rdata[15:8];\n"], [389, "\t\t3'd2:     txrr_data[7:0] <= m_axi_rdata[23:16];\n"], [389, "\t\t3'd3:     txrr_data[7:0] <= m_axi_rdata[31:24];\n"], [389, "\t\t3'd4:     txrr_data[7:0] <= m_axi_rdata[39:32];\n"], [389, "\t\t3'd5:     txrr_data[7:0] <= m_axi_rdata[47:40];\n"], [389, "\t\t3'd6:     txrr_data[7:0] <= m_axi_rdata[55:48];\n"], [389, "\t\tdefault:  txrr_data[7:0] <= m_axi_rdata[63:56];\n"], [396, "\t\t2'd0:    txrr_data[15:0] <= m_axi_rdata[15:0];\n"], [396, "\t\t2'd1:    txrr_data[15:0] <= m_axi_rdata[31:16];\n"], [396, "\t\t2'd2:    txrr_data[15:0] <= m_axi_rdata[47:32];\n"], [396, "\t\tdefault: txrr_data[15:0] <= m_axi_rdata[63:48];\n"], [400, "               txrr_data[31:0] <= m_axi_rdata[63:32];\n"], [402, "               txrr_data[31:0] <= m_axi_rdata[31:0];\n"], [405, "              txrr_data[31:0]  <= m_axi_rdata[31:0];              \n"]]}}