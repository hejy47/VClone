{"Source Block": ["oh/elink/hdl/emaxi.v@356:413@HdlStmProcess", "   assign readinfo_rden = ~emrr_progfull & m_axi_rvalid;\n\n\n   assign emrr_write  = 1'b1;\n   \n   always @( posedge m_axi_aclk )\n     if( ~m_axi_aresetn ) \n       begin      \n\t  emrr_data[31:0]     <= 32'b0;\n\t  emrr_srcaddr[31:0]  <= 32'b0;\n          emrr_access         <= 1'b0;         \n      end \n     else \n       begin\n          emrr_access         <= m_axi_rready & m_axi_rvalid;\n          emrr_datamode[1:0]  <= readinfo_out[1:0];\n          emrr_ctrlmode[3:0]  <= readinfo_out[5:2];\n          emrr_dstaddr[31:0]  <= readinfo_out[40:9];\n\t  emrr_srcaddr[31:0]  <= m_axi_rdata[63:32];\n\t  // steer read data according to size & host address lsbs\n\t  //all data needs to be right aligned\n\t  //(this is due to the Epiphany right aligning all words)\n\t  case(readinfo_out[1:0])//datamode\n            2'd0:  // byte read\n              case(readinfo_out[8:6])\n\t\t3'd0:     emrr_data[7:0] <= m_axi_rdata[7:0];\n\t\t3'd1:     emrr_data[7:0] <= m_axi_rdata[15:8];\n\t\t3'd2:     emrr_data[7:0] <= m_axi_rdata[23:16];\n\t\t3'd3:     emrr_data[7:0] <= m_axi_rdata[31:24];\n\t\t3'd4:     emrr_data[7:0] <= m_axi_rdata[39:32];\n\t\t3'd5:     emrr_data[7:0] <= m_axi_rdata[47:40];\n\t\t3'd6:     emrr_data[7:0] <= m_axi_rdata[55:48];\n\t\tdefault:  emrr_data[7:0] <= m_axi_rdata[63:56];\n              endcase\t    \n            2'd1:  // 16b hword\n              case( readinfo_out[8:7] )\n\t\t2'd0:    emrr_data[15:0] <= m_axi_rdata[15:0];\n\t\t2'd1:    emrr_data[15:0] <= m_axi_rdata[31:16];\n\t\t2'd2:    emrr_data[15:0] <= m_axi_rdata[47:32];\n\t\tdefault: emrr_data[15:0] <= m_axi_rdata[63:48];\n              endcase\n            2'd2:  // 32b word\n              if( readinfo_out[8] )\n               emrr_data[31:0] <= m_axi_rdata[63:32];\n             else\n               emrr_data[31:0] <= m_axi_rdata[31:0];\n           // 64b word already defined by defaults above\n           2'd3: begin // 64b dword\n              emrr_data[31:0]    <= m_axi_rdata[31:0];\n              \n           end\n         endcase         \n       end // else: !if( ~m_axi_aresetn )\n   \nendmodule\n/*\n copyright (c) 2014 adapteva, inc.\n contributed by fred huettig <fred@adapteva.com>\n"], "Clone Blocks": [], "Diff Content": {"Delete": [[366, "          emrr_access         <= 1'b0;         \n"], [370, "          emrr_access         <= m_axi_rready & m_axi_rvalid;\n"], [371, "          emrr_datamode[1:0]  <= readinfo_out[1:0];\n"], [372, "          emrr_ctrlmode[3:0]  <= readinfo_out[5:2];\n"], [373, "          emrr_dstaddr[31:0]  <= readinfo_out[40:9];\n"]], "Add": [[366, "\t  emrr_access_reg     <= 1'b0;\n"], [366, "\t  emrr_access         <= 1'b0;         \n"], [373, "          emrr_access_reg     <= m_axi_rready & m_axi_rvalid;\n"], [373, "\t  emrr_access         <= emrr_access_reg;//added pipeline stage for data \n"]]}}